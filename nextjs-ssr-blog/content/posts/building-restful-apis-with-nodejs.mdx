---
title: '–°–æ–∑–¥–∞–Ω–∏–µ RESTful API —Å Node.js –∏ Express'
description: '–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é production-ready REST API —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Node.js, Express –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–∞–∫—Ç–∏–∫ 2024 –≥–æ–¥–∞.'
date: '2024-11-05'
coverImage: 'https://images.unsplash.com/photo-1558494949-ef010cbdcc31?w=1200&h=630&fit=crop'
author: '–°–µ—Ä–≥–µ–π –ö–æ–∑–ª–æ–≤'
tags: ['Node.js', 'Express', 'API', 'Backend']
categories: ['–û–±—É—á–µ–Ω–∏–µ', 'Backend']
published: true
---

## –ü–æ—á–µ–º—É Node.js –¥–ª—è API?

Node.js —Å—Ç–∞–ª –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–º –≤—ã–±–æ—Ä–æ–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è API –±–ª–∞–≥–æ–¥–∞—Ä—è:

- **–ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–π I/O**: –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **JavaScript –≤–µ–∑–¥–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —è–∑—ã–∫ –Ω–∞ frontend –∏ backend
- **–ë–æ–≥–∞—Ç–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞**: NPM –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–∞–∫–µ—Ç—ã –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è –≤—Å–µ–≥–æ
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –î–≤–∏–∂–æ–∫ V8 –¥–µ–ª–∞–µ—Ç –µ–≥–æ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ –±—ã—Å—Ç—Ä—ã–º

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

–î–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç Node.js:

```bash
mkdir my-api
cd my-api
npm init -y
npm install express cors helmet morgan dotenv
npm install -D typescript @types/node @types/express ts-node nodemon
```

<Callout type="info">
–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º TypeScript –¥–ª—è –ª—É—á—à–µ–π —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ —É–¥–æ–±—Å—Ç–≤–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.
</Callout>

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–û—Ä–≥–∞–Ω–∏–∑—É–π—Ç–µ —Å–≤–æ–π –ø—Ä–æ–µ–∫—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```
my-api/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ controllers/
‚îÇ   ‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ middleware/
‚îÇ   ‚îî‚îÄ‚îÄ server.ts
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ tsconfig.json
```

## –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞

```typescript
// src/server.ts
import express from 'express'
import cors from 'cors'
import helmet from 'helmet'
import morgan from 'morgan'

const app = express()
const PORT = process.env.PORT || 3000

// Middleware
app.use(express.json())
app.use(cors())
app.use(helmet())
app.use(morgan('dev'))

// Routes
app.get('/health', (req, res) => {
  res.json({ status: 'ok', timestamp: new Date().toISOString() })
})

app.listen(PORT, () => {
  console.log(`Server running on port ${PORT}`)
})
```

## –ü—Ä–∏–Ω—Ü–∏–ø—ã REST

RESTful API —Å–ª–µ–¥—É–µ—Ç —ç—Ç–∏–º –ø—Ä–∏–Ω—Ü–∏–ø–∞–º:

1. **–ë–µ–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è**: –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—é –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
2. **–û—Å–Ω–æ–≤–∞–Ω –Ω–∞ —Ä–µ—Å—É—Ä—Å–∞—Ö**: URL –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Ä–µ—Å—É—Ä—Å—ã, –∞ –Ω–µ –¥–µ–π—Å—Ç–≤–∏—è
3. **HTTP –º–µ—Ç–æ–¥—ã**: –ü—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ GET, POST, PUT, DELETE
4. **JSON**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ JSON –¥–ª—è —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞/–æ—Ç–≤–µ—Ç–∞

### HTTP –º–µ—Ç–æ–¥—ã

| –ú–µ—Ç–æ–¥ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|-------|-----------|---------|
| GET | –ü–æ–ª—É—á–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã | `GET /api/users` |
| POST | –°–æ–∑–¥–∞—Ç—å —Ä–µ—Å—É—Ä—Å | `POST /api/users` |
| PUT | –û–±–Ω–æ–≤–∏—Ç—å —Ä–µ—Å—É—Ä—Å | `PUT /api/users/1` |
| DELETE | –£–¥–∞–ª–∏—Ç—å —Ä–µ—Å—É—Ä—Å | `DELETE /api/users/1` |

<Callout type="warning" title="–ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å">
PUT –∏ DELETE –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–º–∏ - –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω—ã–π –≤—ã–∑–æ–≤ –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —Ç–æ—Ç –∂–µ —ç—Ñ—Ñ–µ–∫—Ç, —á—Ç–æ –∏ –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω—ã–π.
</Callout>

## –°–æ–∑–¥–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤

```typescript
// src/routes/users.ts
import { Router } from 'express'
import { getAllUsers, getUser, createUser, updateUser, deleteUser } from '../controllers/users'

const router = Router()

router.get('/', getAllUsers)
router.get('/:id', getUser)
router.post('/', createUser)
router.put('/:id', updateUser)
router.delete('/:id', deleteUser)

export default router
```

## –ü–∞—Ç—Ç–µ—Ä–Ω –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞

```typescript
// src/controllers/users.ts
import { Request, Response } from 'express'

export const getAllUsers = async (req: Request, res: Response) => {
  try {
    // –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
    const users = await db.users.findMany()
    res.json({ data: users })
  } catch (error) {
    res.status(500).json({ error: '–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞' })
  }
}

export const createUser = async (req: Request, res: Response) => {
  try {
    const user = await db.users.create({
      data: req.body
    })
    res.status(201).json({ data: user })
  } catch (error) {
    res.status(400).json({ error: '–ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å' })
  }
}
```

## Middleware –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

```typescript
// src/middleware/errorHandler.ts
import { Request, Response, NextFunction } from 'express'

export const errorHandler = (
  err: Error,
  req: Request,
  res: Response,
  next: NextFunction
) => {
  console.error(err.stack)

  res.status(500).json({
    error: {
      message: err.message,
      ...(process.env.NODE_ENV === 'development' && { stack: err.stack })
    }
  })
}
```

<Callout type="success">
–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ middleware –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫, —á—Ç–æ–±—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏!
</Callout>

## –í–∞–ª–∏–¥–∞—Ü–∏—è

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏, —Ç–∞–∫—É—é –∫–∞–∫ Zod:

```typescript
import { z } from 'zod'

const userSchema = z.object({
  name: z.string().min(2),
  email: z.string().email(),
  age: z.number().min(18).optional()
})

export const createUser = async (req: Request, res: Response) => {
  const result = userSchema.safeParse(req.body)

  if (!result.success) {
    return res.status(400).json({ error: result.error })
  }

  // –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
  const user = await db.users.create({ data: result.data })
  res.status(201).json({ data: user })
}
```

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
2. **–†–µ–∞–ª–∏–∑—É–π—Ç–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤** –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π
3. **–î–æ–±–∞–≤—å—Ç–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é** —Å JWT –∏–ª–∏ OAuth
4. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –≤–∞—à API** —Å –ø–æ–º–æ—â—å—é OpenAPI/Swagger
5. **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä—É–π—Ç–µ –≤–∞—à API** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `/api/v1/users`)
6. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS** –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
7. **–õ–æ–≥–∏—Ä—É–π—Ç–µ –≤—Å—ë** –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

<Callout type="tip">
–†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ API Gateway –¥–ª—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤!
</Callout>

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–æ–∑–¥–∞–Ω–∏–µ RESTful API —Å Node.js –∏ Express ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ, –∫–æ–≥–¥–∞ –≤—ã —Å–ª–µ–¥—É–µ—Ç–µ –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º. –°–æ—Å—Ä–µ–¥–æ—Ç–æ—á—å—Ç–µ—Å—å –Ω–∞ —á–µ—Ç–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ, –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ—à–∏–±–æ–∫ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è production-ready API.

–£–¥–∞—á–Ω–æ–≥–æ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è! üöÄ
