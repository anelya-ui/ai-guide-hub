---
title: '–í–≤–µ–¥–µ–Ω–∏–µ –≤ React Hooks: useState, useEffect –∏ –¥—Ä—É–≥–∏–µ'
description: '–ò–∑—É—á–∏—Ç–µ React Hooks —Å –Ω—É–ª—è –∏ –ø–æ–π–º–∏—Ç–µ, –∫–∞–∫ –æ–Ω–∏ —Ä–µ–≤–æ–ª—é—Ü–∏–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–ª–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –Ω–∞ React —Å –ø–æ–º–æ—â—å—é –±–æ–ª–µ–µ —á–∏—Å—Ç–æ–≥–æ –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –∫–æ–¥–∞.'
date: '2024-10-28'
coverImage: 'https://images.unsplash.com/photo-1633356122544-f134324a6cee?w=1200&h=630&fit=crop'
author: '–î–º–∏—Ç—Ä–∏–π –ü–µ—Ç—Ä–æ–≤'
tags: ['React', 'JavaScript', 'Hooks', 'Frontend']
categories: ['–û–±—É—á–µ–Ω–∏–µ', 'React']
published: true
---

## –ß—Ç–æ —Ç–∞–∫–æ–µ React Hooks?

Hooks ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –≤–∞–º "–ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è" –∫ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º React, —Ç–∞–∫–∏–º –∫–∞–∫ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –º–µ—Ç–æ–¥—ã –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞, –∏–∑ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –î–æ hooks –¥–ª—è –ª–æ–≥–∏–∫–∏ —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Ç—Ä–µ–±–æ–≤–∞–ª–∏—Å—å –∫–ª–∞—Å—Å–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.

<Callout type="info">
Hooks –±—ã–ª–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ React 16.8 (—Ñ–µ–≤—Ä–∞–ª—å 2019) –∏ —Å —Ç–µ—Ö –ø–æ—Ä —Å—Ç–∞–ª–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º –Ω–∞–ø–∏—Å–∞–Ω–∏—è React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.
</Callout>

## –ü—Ä–∞–≤–∏–ª–∞ Hooks

–ü—Ä–µ–∂–¥–µ —á–µ–º —É–≥–ª—É–±–∏—Ç—å—Å—è, –∑–∞–ø–æ–º–Ω–∏—Ç–µ —ç—Ç–∏ –¥–≤–∞ –ø—Ä–∞–≤–∏–ª–∞:

1. **–í—ã–∑—ã–≤–∞–π—Ç–µ —Ö—É–∫–∏ —Ç–æ–ª—å–∫–æ –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ** - –ù–µ –≤—ã–∑—ã–≤–∞–π—Ç–µ —Ö—É–∫–∏ –≤–Ω—É—Ç—Ä–∏ —Ü–∏–∫–ª–æ–≤, —É—Å–ª–æ–≤–∏–π –∏–ª–∏ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
2. **–í—ã–∑—ã–≤–∞–π—Ç–µ —Ö—É–∫–∏ —Ç–æ–ª—å–∫–æ –∏–∑ React-—Ñ—É–Ω–∫—Ü–∏–π** - –í—ã–∑—ã–≤–∞–π—Ç–µ –∏—Ö –∏–∑ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ö—É–∫–æ–≤

<Callout type="warning">
–ù–∞—Ä—É—à–µ–Ω–∏–µ —ç—Ç–∏—Ö –ø—Ä–∞–≤–∏–ª –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –±–∞–≥–∞–º! ESLint –∏–º–µ–µ—Ç –ø–ª–∞–≥–∏–Ω (`eslint-plugin-react-hooks`) –¥–ª—è –∏—Ö —Å–æ–±–ª—é–¥–µ–Ω–∏—è.
</Callout>

## useState: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

–°–∞–º—ã–π –±–∞–∑–æ–≤—ã–π —Ö—É–∫ - –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

```typescript
import { useState } from 'react'

function Counter() {
  const [count, setCount] = useState(0)

  return (
    <div>
      <p>–°—á—ë—Ç—á–∏–∫: {count}</p>
      <button onClick={() => setCount(count + 1)}>
        –£–≤–µ–ª–∏—á–∏—Ç—å
      </button>
    </div>
  )
}
```

### –ù–µ—Å–∫–æ–ª—å–∫–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è

```typescript
function UserForm() {
  const [name, setName] = useState('')
  const [email, setEmail] = useState('')
  const [age, setAge] = useState(0)

  return (
    <form>
      <input value={name} onChange={(e) => setName(e.target.value)} />
      <input value={email} onChange={(e) => setEmail(e.target.value)} />
      <input value={age} onChange={(e) => setAge(Number(e.target.value))} />
    </form>
  )
}
```

## useEffect: –ü–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã

–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö:

```typescript
import { useState, useEffect } from 'react'

function UserProfile({ userId }: { userId: number }) {
  const [user, setUser] = useState(null)
  const [loading, setLoading] = useState(true)

  useEffect(() => {
    async function fetchUser() {
      setLoading(true)
      const response = await fetch(`/api/users/${userId}`)
      const data = await response.json()
      setUser(data)
      setLoading(false)
    }

    fetchUser()
  }, [userId]) // –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ userId

  if (loading) return <div>–ó–∞–≥—Ä—É–∑–∫–∞...</div>
  return <div>{user?.name}</div>
}
```

### –û—á–∏—Å—Ç–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–∞

–û—á–∏—Å—Ç–∫–∞ –ø–æ–¥–ø–∏—Å–æ–∫ –∏ —Ç–∞–π–º–µ—Ä–æ–≤:

```typescript
useEffect(() => {
  const timer = setInterval(() => {
    console.log('–¢–∏–∫')
  }, 1000)

  // –§—É–Ω–∫—Ü–∏—è –æ—á–∏—Å—Ç–∫–∏
  return () => clearInterval(timer)
}, [])
```

<Callout type="tip">
–í—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –æ—á–∏—Å—Ç–∫–∏ –∏–∑ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç –ø–æ–¥–ø–∏—Å–∫–∏, —Ç–∞–π–º–µ—Ä—ã –∏–ª–∏ —Å–ª—É—à–∞—Ç–µ–ª–∏ —Å–æ–±—ã—Ç–∏–π!
</Callout>

## useContext: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

–î–æ—Å—Ç—É–ø –∫ –∑–Ω–∞—á–µ–Ω–∏—è–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –±–µ–∑ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏:

```typescript
import { createContext, useContext } from 'react'

const ThemeContext = createContext('light')

function ThemedButton() {
  const theme = useContext(ThemeContext)

  return (
    <button className={theme === 'dark' ? 'btn-dark' : 'btn-light'}>
      –ù–∞–∂–º–∏ –º–µ–Ω—è
    </button>
  )
}
```

## useRef: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π

–°–æ–∑–¥–∞–Ω–∏–µ –∏–∑–º–µ–Ω—è–µ–º—ã—Ö —Å—Å—ã–ª–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É —Ä–µ–Ω–¥–µ—Ä–∞–º–∏:

```typescript
import { useRef, useEffect } from 'react'

function TextInput() {
  const inputRef = useRef<HTMLInputElement>(null)

  useEffect(() => {
    // –§–æ–∫—É—Å –Ω–∞ input –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
    inputRef.current?.focus()
  }, [])

  return <input ref={inputRef} />
}
```

### –•—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π

```typescript
function Counter() {
  const [count, setCount] = useState(0)
  const prevCountRef = useRef<number>()

  useEffect(() => {
    prevCountRef.current = count
  })

  const prevCount = prevCountRef.current

  return (
    <div>
      <p>–¢–µ–∫—É—â–∏–π: {count}</p>
      <p>–ü—Ä–µ–¥—ã–¥—É—â–∏–π: {prevCount}</p>
      <button onClick={() => setCount(count + 1)}>–£–≤–µ–ª–∏—á–∏—Ç—å</button>
    </div>
  )
}
```

## useMemo: –ú–µ–º–æ–∏–∑–∞—Ü–∏—è –∑–Ω–∞—á–µ–Ω–∏–π

–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π:

```typescript
import { useMemo } from 'react'

function ProductList({ products, filter }: Props) {
  const filteredProducts = useMemo(() => {
    console.log('–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤...')
    return products.filter(p => p.category === filter)
  }, [products, filter]) // –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —ç—Ç–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π

  return (
    <ul>
      {filteredProducts.map(p => (
        <li key={p.id}>{p.name}</li>
      ))}
    </ul>
  )
}
```

<Callout type="warning">
–ù–µ –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª—è–π—Ç–µ `useMemo`! –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –¥–æ—Ä–æ–≥–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π. –ü—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–æ–∂–µ—Ç —É—Å–ª–æ–∂–Ω–∏—Ç—å —á—Ç–µ–Ω–∏–µ –∫–æ–¥–∞.
</Callout>

## useCallback: –ú–µ–º–æ–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π

–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –Ω–µ–Ω—É–∂–Ω—ã—Ö –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö —Ä–µ–Ω–¥–µ—Ä–æ–≤:

```typescript
import { useCallback } from 'react'

function Parent() {
  const [count, setCount] = useState(0)

  const handleClick = useCallback(() => {
    setCount(c => c + 1)
  }, []) // –§—É–Ω–∫—Ü–∏—è –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è

  return <Child onClick={handleClick} />
}
```

## –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ö—É–∫–∏

–°–æ–∑–¥–∞–≤–∞–π—Ç–µ —Å–≤–æ–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ö—É–∫–∏ –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–π –ª–æ–≥–∏–∫–∏:

```typescript
function useLocalStorage<T>(key: string, initialValue: T) {
  const [value, setValue] = useState<T>(() => {
    const item = localStorage.getItem(key)
    return item ? JSON.parse(item) : initialValue
  })

  useEffect(() => {
    localStorage.setItem(key, JSON.stringify(value))
  }, [key, value])

  return [value, setValue] as const
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
function App() {
  const [theme, setTheme] = useLocalStorage('theme', 'light')

  return (
    <button onClick={() => setTheme(theme === 'light' ? 'dark' : 'light')}>
      –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É
    </button>
  )
}
```

<Callout type="success">
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ö—É–∫–∏ ‚Äî —ç—Ç–æ –∫–ª—é—á –∫ —Å–æ–≤–º–µ—Å—Ç–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –ª–æ–≥–∏–∫–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏. –ù–∞–∑—ã–≤–∞–π—Ç–µ –∏—Ö —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞ `use`!
</Callout>

## –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

```typescript
function useApi<T>(url: string) {
  const [data, setData] = useState<T | null>(null)
  const [loading, setLoading] = useState(true)
  const [error, setError] = useState<Error | null>(null)

  useEffect(() => {
    async function fetchData() {
      try {
        const response = await fetch(url)
        const json = await response.json()
        setData(json)
      } catch (e) {
        setError(e as Error)
      } finally {
        setLoading(false)
      }
    }

    fetchData()
  }, [url])

  return { data, loading, error }
}
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

React Hooks –∏–∑–º–µ–Ω–∏–ª–∏ —Ç–æ, –∫–∞–∫ –º—ã –ø–∏—à–µ–º React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã. –û–Ω–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –±–æ–ª–µ–µ —á–∏—Å—Ç—ã–π –∫–æ–¥, –ª—É—á—à–µ–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –∏ —É–ø—Ä–æ—â–∞—é—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

–ù–∞—á–Ω–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ö—É–∫–∏ –≤ —Å–≤–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö —Å–µ–≥–æ–¥–Ω—è! üé£
